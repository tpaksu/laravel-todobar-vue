(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},r={app:0},n=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0015":function(t,e,o){"use strict";var a=o("c151"),r=o.n(a);r.a},1787:function(t,e,o){},"29d8":function(t,e,o){},"476f":function(t,e,o){"use strict";var a=o("8297"),r=o.n(a);r.a},"49b9":function(t,e,o){"use strict";var a=o("a5e0"),r=o.n(a);r.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"laravel-todobar"},[o("TodoBarHandle"),o("TodoBarPanel",[o("TodoBarProjects"),o("div",{staticClass:"laravel-todobar-content"},[o("h3",[t._v("Tasks")]),o("TodoBarForm"),o("TodoBarTasks"),o("TodoBarLoader")],1)],1),o("TodoBarModal")],1)},n=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"laravel-todobar-handle",on:{click:function(e){return t.toggleVisibility()}}},[o("svg",{attrs:{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px",xmlns:"http://www.w3.org/2000/svg","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[o("g",{attrs:{fill:"none","fill-rule":"evenodd",id:"Page-1",stroke:"none","stroke-width":"1"}},[o("g",{attrs:{fill:"#fff",id:"Core",transform:"translate(-465.000000, -45.000000)"}},[o("g",{attrs:{id:"check-box",transform:"translate(465.000000, 45.000000)"}},[o("path",{attrs:{d:"M16,0 L2,0 C0.9,0 0,0.9 0,2 L0,16 C0,17.1 0.9,18 2,18 L16,18 C17.1,18 18,17.1 18,16 L18,2 C18,0.9 17.1,0 16,0 L16,0 Z M7,14 L2,9 L3.4,7.6 L7,11.2 L14.6,3.6 L16,5 L7,14 L7,14 Z",id:"Shape"}})])])])])])},i=[],c={methods:{toggleVisibility:function(){document.querySelector("html").classList.toggle("todobar-active")}}},l=c,u=(o("715b"),o("2877")),d=Object(u["a"])(l,s,i,!1,null,null,null),f=d.exports,p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todobar-projects-container"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.active_project,expression:"active_project"}],ref:"todobar-projects-select",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.active_project=e.target.multiple?o:o[0]},function(e){return t.inputChanged()}]}},[o("option",{attrs:{value:"-1",selected:""}},[t._v("Select a Project")]),t._l(t.projects_list,(function(e,a){return o("option",{key:a,domProps:{value:a}},[t._v(t._s(e))])}))],2),o("button",{staticClass:"todobar-button-primary",attrs:{type:"button"},on:{click:function(e){return t.add()}}},[t._v("Add")]),o("button",{staticClass:"todobar-button-secondary",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("Ren")]),o("button",{staticClass:"todobar-button-danger",attrs:{type:"button"},on:{click:function(e){return t.remove()}}},[t._v("Del")])])},v=[],h=(o("e25e"),o("159b"),o("d3b7"),o("ac1f"),o("25f0"),o("5319"),new a["a"]({methods:{remember:function(){return window.localStorage.getItem("laravel-todobar-last-project")},memorize:function(t){window.localStorage.setItem("laravel-todobar-last-project",parseInt(t,10))},get:function(t,e){this.fetch("GET",t,void 0,e)},delete:function(t,e){this.fetch("DELETE",t,void 0,e)},post:function(t,e,o){this.fetch("POST",t,e,o)},patch:function(t,e,o){this.fetch("PATCH",t,e,o)},fetch:function(t){function e(e,o,a,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e,o,a){h.$emit("todobar:show-loader"),fetch("/laravel-todobar/"+e.replace(/^\/+/g,""),{method:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.todoBarToken},body:void 0!==o?JSON.stringify(o):null}).then((function(t){if(!t.ok)throw new Error(t.statusText);return t.json()})).catch((function(t){alert("Request failed: ".concat(t))})).then((function(t){t&&a(t)})).finally((function(){h.$emit("todobar:hide-loader")}))}))}})),m={data:function(){return{active_project:null,projects_list:[]}},mounted:function(){this.active_project=h.remember(),this.get(this.active_project)},methods:{inputChanged:function(){h.memorize(this.active_project),h.$emit("todobar:load-tasks",this.active_project)},get:function(t){var e=this;h.get("projects",(function(o){e.projects_list=[],o.data.forEach((function(t,o){e.projects_list.push(t)})),e.active_project=void 0==t||null==t?-1:t,null==e.active_project&&(e.active_project=-1),e.inputChanged()}))},add:function(){var t=this,e=prompt("What will be the new project's name?");null!=e&&h.post("projects",{name:e},(function(e){"success"==e.status?t.get(parseInt(e.id,10)):"error"==e.status&&alert(e.error)}))},edit:function(){var t=this,e=this.$refs["todobar-projects-select"].selectedOptions[0],o=e.text,a=e.value;if(a&&a>=0){var r=prompt("What will be the new project name?",o);null!==r&&h.patch("projects/"+a,{name:r},(function(e){"success"==e.status?t.get(parseInt(a,10)):"error"==e.status&&alert(e.error)}))}else alert("You need to select a project first to change it's name!")},remove:function(){var t=this,e=this.$refs["todobar-projects-select"].selectedOptions[0],o=e.value;o&&o>=0?confirm("Are you sure to delete this project? This will also remove all associated tasks. And can't be undone. Are you still sure?")&&h.delete("projects/"+o,(function(e){"success"==e.status?t.get():"error"==e.status&&alert(e.error)})):alert("You need to select a project first to delete it!")}}},b=m,k=(o("fbbc"),Object(u["a"])(b,p,v,!1,null,null,null)),w=k.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"laravel-todobar-list"},t._l(this.$data.tasks,(function(e,a){return o("li",{key:a,class:"laravel-todobar-task "+(a%2?"custom-checkbox-even":"custom-checkbox-odd")},[o("div",{staticStyle:{display:"flex"}},[o("input",{ref:"todobar-task-"+a,refInFor:!0,attrs:{type:"checkbox"},domProps:{checked:e.completed},on:{click:function(o){return t.setTaskStatus(t.active_project,a,!e.completed)}}}),o("label",[o("div",{staticClass:"checkbox-dummy",on:{click:function(e){return t.check("todobar-task-"+a)}}},[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"11pt",height:"11pt",viewBox:"0 0 16 13",version:"1.1"}},[o("g",{attrs:{id:"surface1"}},[o("path",{staticStyle:{stroke:"none","fill-rule":"nonzero",fill:"white","fill-opacity":"1"},attrs:{d:"M 5.96875 12.878906 L 0 6.90625 L 2.847656 4.058594 L 5.96875 7.179688 L 13.152344 0 L 16 2.847656 Z M 5.96875 12.878906 "}})])])]),o("div",{staticClass:"label-content"},[t._v(" "+t._s(e.content)+" "),o("a",{staticClass:"edit-task",attrs:{href:"javascript:void(0);"},on:{click:function(o){return t.editTaskForm(t.active_project,a,e.content)}}},[t._v("Edit")]),t._v(" "),o("a",{staticClass:"delete-task",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.removeTask(t.active_project,a)}}},[t._v("Delete")])])])])])})),0)},g=[],j={data:function(){return{active_project:null,tasks:[]}},methods:{check:function(t){var e=this.$refs[t][0];e.checked=!e.checked,e.dispatchEvent(new Event("click"))},getTasks:function(t){var e=this;h.get("/projects/"+t+"/tasks",(function(o){"success"==o.status?(e.tasks=o.tasks,e.active_project=t):"error"==o.status&&alert(o.error)}))},addTask:function(t){var e=this.active_project;h.post("/projects/"+e+"/tasks",{content:t},(function(t){"success"==t.status?(h.$emit("todobar:load-tasks",e),h.$emit("todobar:clear-task-input")):"error"==t.status&&alert(t.error)}))},editTaskForm:function(t,e,o){h.$emit("todobar:show-edit-modal",t,e,o)},editTask:function(t,e,o){var a=this;h.patch("/projects/"+t+"/tasks/"+e,{content:o},(function(e){"success"==e.status?(a.getTasks(t),h.$emit("todobar:hide-edit-modal")):"error"==e.status&&alert(e.error)}))},removeTask:function(t,e){var o=this;h.delete("/projects/"+t+"/tasks/"+e,(function(e){"success"==e.status?o.getTasks(t):"error"==e.status&&alert(e.error)}))},setTaskStatus:function(t,e,o){var a=this;h.patch("/projects/"+t+"/tasks/"+e,{status:o},(function(e){"success"==e.status?a.getTasks(t):"error"==e.status&&alert(e.error)}))}},mounted:function(){var t=this;h.$on("todobar:load-tasks",(function(e){t.getTasks(e)})).$on("todobar:save-task",(function(e){t.addTask(e)})).$on("todobar:edit-task",(function(e,o,a){t.editTask(e,o,a)}))},beforeDestroy:function(){h.$off("todobar:load-tasks").$off("todobar:edit-task").$off("todobar:save-task")}},y=j,T=(o("5b74"),Object(u["a"])(y,_,g,!1,null,null,null)),x=T.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"laravel-todobar-form"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.new_task,expression:"new_task"}],ref:"todobar-task-input",attrs:{placeholder:"Task Description"},domProps:{value:t.new_task},on:{input:function(e){e.target.composing||(t.new_task=e.target.value)}}}),o("button",{on:{click:function(e){return t.saveTask()}}},[t._v(" Push the task! ")])])},C=[],O={data:function(){return{new_task:""}},methods:{saveTask:function(){h.$emit("todobar:save-task",this.new_task)}},mounted:function(){var t=this;h.$on("todobar:clear-task-input",(function(){t.new_task="",t.refs["todobar-task-input"].focus()}))},beforeDestroy:function(){h.$off("todobar:clear-task-input")}},E=O,P=(o("476f"),Object(u["a"])(E,$,C,!1,null,null,null)),B=P.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"laravel-todobar-container"},[t._t("default")],2)},S=[],M={},z=M,N=Object(u["a"])(z,L,S,!1,null,null,null),A=N.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:this.loaderVisible,expression:"this.loaderVisible"}],staticClass:"laravel-todobar-loader"},[o("svg",{attrs:{width:"135",height:"135",viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:"#ddd"}},[o("path",{attrs:{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"}},[o("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"}})],1),o("path",{attrs:{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"}},[o("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"}})],1)])])},V=[],I={components:{EventBus:h},data:function(){return{loaderVisible:!1}},mounted:function(){var t=this;h.$on("todobar:show-loader",(function(){t.loaderVisible=!0})).$on("todobar:hide-loader",(function(){t.loaderVisible=!1}))},beforeDestroy:function(){h.$off("todobar:show-loader").$off("todobar:hide-loader")}},F=I,H=Object(u["a"])(F,D,V,!1,null,null,null),J=H.exports,Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"todobar-modal"}},[t.showModal?o("div",{staticClass:"todobar-modal-mask"},[o("div",{staticClass:"todobar-modal-wrapper"},[o("div",{staticClass:"todobar-modal-container"},[o("div",{staticClass:"todobar-modal-header"},[o("h5",{attrs:{name:"todobar-header"}},[t._v("Edit Task")]),o("button",{staticClass:"todobar-close",attrs:{"data-dismiss":"todobar-modal","aria-label":"Close"},on:{click:function(e){t.showModal=!1}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),o("div",{staticClass:"todobar-modal-body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.project_id,expression:"project_id"}],attrs:{type:"hidden"},domProps:{value:t.project_id},on:{input:function(e){e.target.composing||(t.project_id=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.task_id,expression:"task_id"}],attrs:{type:"hidden"},domProps:{value:t.task_id},on:{input:function(e){e.target.composing||(t.task_id=e.target.value)}}}),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],staticStyle:{"min-width":"100%"},attrs:{rows:"6"},domProps:{value:t.task},on:{input:function(e){e.target.composing||(t.task=e.target.value)}}})]),o("div",{staticClass:"todobar-modal-footer"},[o("button",{staticClass:"todobar-button-primary",attrs:{type:"button"},on:{click:function(e){return t.saveEdits()}}},[t._v("Save Changes")])])])])]):t._e()])},q=[],R={components:{EventBus:h},methods:{saveEdits:function(){h.$emit("todobar:edit-task",this.project_id,this.task_id,this.task)}},data:function(){return{project_id:-1,task_id:-1,task:"",showModal:!1}},mounted:function(){var t=this;h.$on("todobar:show-edit-modal",(function(e,o,a){t.project_id=e,t.task_id=o,t.task=a,t.showModal=!0})).$on("todobar:hide-edit-modal",(function(){t.showModal=!1}))},beforeDestroy:function(){h.$off("todobar:show-edit-modal").$off("todobar:hide-edit-modal")}},W=R,Y=(o("0015"),Object(u["a"])(W,Z,q,!1,null,"0ae5b16c",null)),G=Y.exports,K={name:"laravel-todobar",components:{TodoBarHandle:f,TodoBarProjects:w,TodoBarTasks:x,TodoBarForm:B,TodoBarPanel:A,TodoBarLoader:J,TodoBarModal:G}},Q=K,U=(o("49b9"),Object(u["a"])(Q,r,n,!1,null,null,null)),X=U.exports;a["a"].config.productionTip=!1,a["a"].config.devtools=!1,new a["a"]({render:function(t){return t(X)}}).$mount("#laravel-todobar")},"5b74":function(t,e,o){"use strict";var a=o("1787"),r=o.n(a);r.a},"715b":function(t,e,o){"use strict";var a=o("29d8"),r=o.n(a);r.a},8297:function(t,e,o){},a5e0:function(t,e,o){},c151:function(t,e,o){},e8c1:function(t,e,o){},fbbc:function(t,e,o){"use strict";var a=o("e8c1"),r=o.n(a);r.a}});